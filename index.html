<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css.css">

    <title>Team Builder</title>
</head>

<body>
    <nav>
        <h1>Team Builder</h1>

    </nav>

    <div id="name-box">
        <h1 id="first"></h1>
        <h1 id="sec"></h1>
        <h1 id="third" class="hide"></h1>
        <h1 id="forth" class="hide"></h1>
        <h1 id="fifth" class="hide"></h1>
    </div>
    <button class="but" onclick="change()">Create</button>

    <table width="50%" style="border: 1px; align-items: center;">
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td rowspan="2">&nbsp;</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
        </tr>

    </table>


    <script>
        let third = document.getElementById('third');
        let forth = document.getElementById('forth');
        let fifth = document.getElementById('fifth');

        let tcount = prompt("total no. of member's");
        let tgrup = prompt("total no. of member's in one group (max=5)");

        if (tgrup == 3) {
            third.classList.remove("hide")
        }
        else if (tgrup == 4) {
            third.classList.remove('hide')
            forth.classList.remove('hide')

        }
        else if (tgrup == 5) {
            third.classList.remove('hide')
            forth.classList.remove('hide')
            fifth.classList.remove('hide')
        }
        else if (tgrup == 1 || tgrup == 2) {
            // continue;
        }
        else {
            alert("this is only for maximun 5 student in one group")
        }


        let names = [];
        let x = 1;
        let counter = 0;


        for (let i = 0; i < tcount; i++) {
            let j = i + 1;
            names[i] = prompt("Name of the " + j + " Member");

        }
        let total = tcount;

        let nm = []

        function print(a) {
            console.log(names[a]);
            if (x == 1) {
                let p = names[a];
                nm.push(p);
                document.getElementById('third')
                document.getElementById('first').innerHTML = ' <h1 id="first">' + p + '</h1>'
                x = 2;
            }
            else {
                if (x == 5) {
                    let p = names[a];
                    nm.push(p);
                    document.getElementById('fifth').innerHTML = ' <h1 id="fifth">' + p + '</h1>'
                    x = 1;
                }
                else {
                    if (x == 4) {
                        let p = names[a];
                        nm.push(p);
                        document.getElementById('forth').innerHTML = ' <h1 id="forth">' + p + '</h1>'
                        if (tgrup > 4) {
                            x = 5;
                        } else {
                            x = 1;
                        }
                    }
                    else {
                        if (x == 3) {
                            let p = names[a];
                            nm.push(p);
                            document.getElementById('third').innerHTML = ' <h1 id="third">' + p + '</h1>'
                            if (tgrup > 3) {
                                x = 4;
                            } else {
                                x = 1;
                            }
                        }
                        else {
                            let p = names[a];
                            nm.push(p);
                            document.getElementById('sec').innerHTML = ' <h1 id="sec">' + p + '</h1>'
                            if (tgrup > 2) {
                                x = 3;
                            } else {
                                x = 1;
                            }
                        }

                    }

                }

            }




            names.splice(a, 1);
        }
        function change() {
            counter += 1;

            if (counter <= tcount) {
                let a = Math.floor(Math.random() * total);
                print(a);
                total = total - 1;
            }
            else {
                alert("Group is completly created")
                table();
            }
        }

        function table() {

            //body reference 
            var body = document.getElementsByTagName("body")[0];

            // create elements <table> and a <tbody>
            var tbl = document.createElement("table");
            var tblBody = document.createElement("tbody");
            var licount = 0;
            // cells creation
            var rw = tcount / tgrup;
            

           
            for (var j = 1; j <= rw; j++) {
                // table row creation
                var row = document.createElement("tr");

                for (var i = 0; i <= tgrup; i++) {
                    if (i == 0) {
                        // create element <td> and text node 
                        //Make text node the contents of <td> element
                        // put <td> at end of the table row
                        var cell = document.createElement("td");
                        var cellText = document.createTextNode("Group "+j);
                        

                    } else {
                        // create element <td> and text node 
                        //Make text node the contents of <td> element
                        // put <td> at end of the table row
                        var cell = document.createElement("td");
                        var cellText = document.createTextNode(nm[licount]);
                        licount++;


                    }
                    cell.appendChild(cellText);
                    row.appendChild(cell);
                }

                //row added to end of table body
                tblBody.appendChild(row);
            }

            // append the <tbody> inside the <table>
            tbl.appendChild(tblBody);
            // put <table> in the <body>
            body.appendChild(tbl);
            // tbl border attribute to 
            tbl.setAttribute("border", "2");

        }


    </script>


</body>

</html>
